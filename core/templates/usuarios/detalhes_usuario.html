{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/principal.css' %}">
    <link rel="shortcut icon" href="{% static 'img/icon_uu.webp' %}" type="image/x-icon">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.3.0/uicons-solid-straight/css/uicons-solid-straight.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.3.0/uicons-bold-rounded/css/uicons-bold-rounded.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.3.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Display&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/af6c14a78e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/principal.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/areauser.css' %}">
    <title>Área do Usuário</title>
</head>
<body>

    <div class="corpo_principal">
        <article>
            <h1>Meus Dados</h1>
            <hr>
        </article>

        <div class="container">
            <section>
                <a href="#" id="btn-minhaConta" style="background-color: white; border-radius: 14px;">
                    <i class="fi fi-sr-user"></i>
                    <p>Minha Conta</p>
                </a>

                <a href="{% url 'logout' %}" id="btn-sair">
                    <i class="fi fi-br-exit"></i>
                    <p>Sair</p>
                </a>
            </section>

            <div class="linha-vertical"></div>

            <article>
                <!-- aviso de que o usuário deve completar o perfil caso ele ainda não tenha feito isso -->
                {% if not perfil.telefone or not perfil.endereco or not perfil.instituto %}
                    <div class="alerta-perfil">
                        <p style="background-color: green;">Complete seu perfil preenchendo as informações de endereço, instituição e telefone.</p>
                    </div>
                {% endif %}

                <p>Nome Completo: {{ perfil.usuario.first_name|default:perfil.usuario.username }}</p>


                {% if perfil.tipo_usuario and perfil.tipo_usuario != ' ' %}
                    <p><strong>Tipo de Usuário:</strong> {{ perfil.tipo_usuario }}</p>
                {% endif %}

                {% if perfil.telefone %}
                    <p>Telefone: {{ perfil.telefone }}</p>
                {% endif %}

                {% if perfil.endereco %}
                    <p>Endereço: {{ perfil.endereco }}</p>
                {% endif %}

                {% if perfil.instituto %}
                    <p>Instituição: {{ perfil.instituto }}</p>
                {% endif %}

                <p>Email: {{ perfil.usuario.email }}</p>

                <div class="linha-horizontal"></div>

                <main class="dados-perfil">
                    <div class="dados">

                    </div>

                    <div class="image">
                        {% if perfil.foto_perfil %}
                            <img src="{{ perfil.foto_perfil.url }}" alt="Foto de Perfil" style="width: 100px; height: 100px; border-radius: 50%;">
                        {% else %}
                            <i class="fa-solid fa-circle-user" style="color: #304d30; font-size: 100px;"></i>
                        {% endif %}
                    </div>
                </main>

                <div class="btn-salvar">
                    <a href="{% url 'editar_detalhes' usuario_id=perfil.usuario.id %}">Atualizar Informações</a>
                </div>
            </article>
        </div>
    </div>

    <footer class="primeiro-rodape">

        <div class="voltar-ao-topo">
            <hr>
            <i class="fa-solid fa-arrow-up-long" style="color: #304d30;"></i>
            <a style="cursor: pointer;" onclick="subiraoTopo();">Voltar ao topo</a>
            <hr>
        </div>
        <article>
            <div class="container-texto">
                <div class="primeiro-txt">
                    <h3>
                        <strong style="cursor: default; color: black;"> Institucional </strong>
                    </h3>
                    <p>
                        <a href="">Portal IFRN</a>
                        <a href="">FAQs</a>
                        <a href="">Portal do Suap</a>
                        <a href="">Sobre Nós</a>
                    </p>
                </div>
                <div class="segundo-txt">
                    <h3>
                        <strong style="cursor: default; color: black;"> Serviços </strong>
                    </h3>
                    <p>
                        <a href="">Atendimento Virtual</a>
                        <a href="">Suporte ao Usuário</a>
                        <a href="">Feedback</a>
                    </p>
                </div>
            </div>
            <div class="img-dados">
                <div class="img-logo">
                    <img src="{% static 'img/4Iwakb0M_400x400.png' %}" alt="Logo do IFRN" width="180px" height="70px">
                </div>
            </div>
        </article>
    </footer>

</body>
</html>
